# TetrisGame
Реализация игры тетрис (не оригинальной) с помощью drag&amp;drop и взаимодействия пользователей по локальной сети

### Запуск
Запуск сервера на Windows выполняется с помощью исполняемого файла 'RUNFILES/runserver.bat'
Запуск игры на Windows выполняется с помощью исполняемого файла 'RUNFILES/runapplication.bat'
ВНИМАНИЕ! В BAT файлах следует изменить значение аттрибута --module-path на расположение lib папки JavaFX на вашем компьютере
Также проект можно запускать с помощью IDE

### Игра
1. Игра осуществляется на поле 9x9 клеток
2. Ход игрока заключается, в том, что игрок должен расположить сгенерированную
фигуру (см. пункт 7 - “Генерация фигур”) в свободное место, так чтобы фигура не
пересекалась с уже расположенными фигурами на поле (которые он расположил
на поле, делая предыдущие ходы). Фигуры переворачивать нельзя. А также
нельзя изменять положение уже расположенных на поле фигур.
3. У игрока должна быть кнопка “Завершить игру”. При нажатии на эту кнопку игрок
должен получить сообщение с информацией о том, сколько игрок сделал ходов
в игре и сколько времени заняла игра (время игры начинается с открытия поля и
заканчивается нажатием на кнопку “завершить игру”).
4. Во время игры игрок должен видеть сколько длится текущая игра.
5. По завершению игры у игрока должна быть возможность:
• начать новую игру
• выйти
6. Информировать игрока о том, что сгенерированную фигуру невозможно
разместить на поле не нужно.
7. Генерация фигур. В начале каждого хода игроку генерируется одна из
следующих фигур:
8. Распределение очередности появления фигур - равномерное случайное.
9. Программа должна быть реализована с помощью Swing или JavaFX (на выбор).
10. Движение фигур должно осуществляться с помощью drag & drop
(перетаскиванием их с помощью мыши).

### Клиент-Сервер
1. При игре в Jigsaw, которая была описана в ДЗ-5 как игра с компьютером, может не хватать
азартности. Поэтому, мы изменяем игру так, чтобы можно было соревноваться и с
реальным противником. Для простоты будем считать, что игроков может быть и двое (и
тогда у каждого из них появляется противник).
2. Имеется сервер, который запускается на компьютере (хосте) организатора игры. Игрок,
запустивший сервер, может пригласить сыграть в игру своего приятеля, которому он
сообщает IP-адрес сервера и номер порта, на котором этот сервер работает. Способ
рассылки таких приглашений – за рамками данного задания. Например, при отладке
(проверке) работы на одном компьютере сервер игры может запускаться с указанием порта
5000, и игрок(и) подключаются к нему с указанием этого же хоста (localhost или 127.0.0.1) и
порта 5000. Использование иных IP-адресов для реальной работы по сети зависит от
организации сети (это приветствуется, но не требуется). При запуске сервера указывается
максимальное количество одновременно играющих игроков n, где n может иметь значение
1 или 2 (простоты ради), а также – максимальное время одного сеанса игры (в секундах).
3. Игрок соединяется с сервером игры с помощью клиентского приложения. При подключении
к серверу по TCP/IP (с помощью Socket’ов) игрок получает от сервера приветствие с
приглашением ввести свое имя. После предоставления имени игрока серверу на сервере
происходит регистрация этого игрока с подсчетом порядкового номера его подключения и
проверка готовности к началу сеанса игры, ожидаемого игроком. Сеанс игры начинается
тогда, когда в игру войдет и представится серверу i-й по счету игрок, где i = n. Игрок,
представившийся серверу до готовности к началу сеанса игры (c i < n), получает от сервера
сообщение об ожидании начала сеанса. Когда сеанс игры начинается, каждый игрок
получает об этом сообщение и первую фигуру для размещения на своем игровом поле.
4. В течение сеанса игры у игрока отображаются:
• имя самого игрока;
• имя его партнера (если он есть);
• максимальное время сеанса игры (заданное сервером);
• текущее время сеанса игры (в секундах от начала сеанса);
• кнопка завершения сеанса игры;
• очередная фигура для расстановки на игровом поле;
• собственно игровое поле.
За исключением первых трех пунктов (информации о сеансе игры), GUI может быть
аналогичен GUI описанному в ДЗ-5. Собственно сеанс игры начинается с получения от
сервера и отображения у клиента информации о сеансе игры и первой фигуры,
сгенерированной сервером в данном сеансе игры.
5. Генерация фигур сервером происходит аналогично тому, как они генерировались в ДЗ-5.
Сервер хранит у себя последовательность случайно сгенерированных им фигур. Клиентские
приложения игроков фигуры не генерируют, но получают их от сервера сразу после начала
сеанса (для первой фигуры) или сразу после установки предыдущей фигуры данным
клиентом.
6. Каждый игрок, получивший фигуру от сервера, помещает ее на свое игровое поле по
правилам, аналогичным ДЗ-5, либо прекращает игру нажатием кнопки.
7. Когда очередная фигура размещается игроком на его игровом поле, происходит запрос
очередной фигуры у сервера, который выдает фигуру запросившему ее игроку. Каждый
игрок получает себе очередную фигуру из последовательности фигур, генерируемых
сервером, с соблюдением справедливости в игре: фигуры, получаемые от сервера каждым
из игроков по мере их размещения на его игровом поле, - одинаковые (игроки не могут
жаловаться на то, что одному из них выпадали более «простые» для расстановки фигуры).
8. Игрок может завершить сеанс игры по своей инициативе (нажатием кнопки). Сеанс игры
завершается принудительно (автоматически) по истечении максимального времени сеанса
игры (о чем игрок уведомляется сообщением). При завершении сеанса игры, на сервер
отправляется информация о количестве успешно расставленных фигур и времени,
прошедшего от начала сеанса игры. Игрок, завершивший сеанс игры первым, ожидает
завершения сеанса игры партнером (если таковой есть), получая об этом уведомление.
9. После окончании сеанса игры обоими игроками они получают сообщение о результатах
игры (количество расставленных фигур и затраченное время игры по каждому из них) с
указанием победителя. Победителем считается игрок, расставивший наибольшее
количество фигур; при равном их количестве – сделавший это за минимальное время.
10. После оглашения результатов игры игроки имеют возможность начать новый сеанс игры,
либо выйти из приложения. Новый сеанс игры начинается при наличии требуемой
информации о зарегистрированных игроках.
11. Если один из игроков выходит из игры (закрывает клиентское приложения), сервер узнает
об этом и сообщает другому игроку, который при этом объявляется победителем и может
выбрать вариант продолжения (ждать партнера или закончить игру).
